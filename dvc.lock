schema: '2.0'
stages:
  train:
    cmd: python src/train.py
    deps:
    - path: data/fashion_mnist_data.pkl
      hash: md5
      md5: 35353c71da0985eed8bb507bbc53bd91
      size: 54950285
    - path: src/train.py
      hash: md5
      md5: 6de306d88a7ae9b7c44d7873c4dd5e97
      size: 3167
    params:
      params.yaml:
        train.batch_size: 128
        train.dropout: 0.4
        train.hidden_units: 64
        train.lr: 0.01
        train.num_epochs: 3
    outs:
    - path: dvclive/metrics.json
      hash: md5
      md5: aa0f2d4cb87ee1b29e320df521d45168
      size: 54
    - path: dvclive/plots/metrics/accuracy.tsv
      hash: md5
      md5: 2b4c9f9202d94cbfd3adf1047bc58a7d
      size: 77
    - path: output/fm_model
      hash: md5
      md5: da7dd4948fe782503be90d6894e83169.dir
      size: 3782867
      nfiles: 4
    - path: output/train_logs.csv
      hash: md5
      md5: d3f8c4e31d85b043317c7e1caeb60e55
      size: 141
  evaluate:
    cmd: python src/evaluate.py
    deps:
    - path: data/fashion_mnist_data.pkl
      hash: md5
      md5: 35353c71da0985eed8bb507bbc53bd91
      size: 54950285
    - path: output/fm_model
      hash: md5
      md5: da7dd4948fe782503be90d6894e83169.dir
      size: 3782867
      nfiles: 4
    - path: src/evaluate.py
      hash: md5
      md5: cca081b957cf8396d8b1526d7734952c
      size: 3040
    outs:
    - path: output/metrics.json
      hash: md5
      md5: 961a62b98e3abf71500288d8e1f5dfb9
      size: 60
    - path: output/predictions.json
      hash: md5
      md5: 08766c70203cbfef188a7ca30da27aab
      size: 310000
    - path: output/test/samples_of_mispredicted_images/
      hash: md5
      md5: 30d6dbf1b21d2d9654201d48a5c8bf5c.dir
      size: 174824
      nfiles: 10
