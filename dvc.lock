schema: '2.0'
stages:
  train:
    cmd: python src/train.py
    deps:
    - path: data/fashion_mnist_data.pkl
      hash: md5
      md5: 35353c71da0985eed8bb507bbc53bd91
      size: 54950285
    - path: src/train.py
      hash: md5
      md5: 6de306d88a7ae9b7c44d7873c4dd5e97
      size: 3167
    params:
      params.yaml:
        train.batch_size: 128
        train.dropout: 0.4
        train.hidden_units: 64
        train.lr: 0.001
        train.num_epochs: 3
    outs:
    - path: dvclive/metrics.json
      hash: md5
      md5: 8ac224d61d02fffdc251906fc5dcdd42
      size: 54
    - path: dvclive/plots/metrics/accuracy.tsv
      hash: md5
      md5: cebb25a855c09290a74a0e7ee2673e76
      size: 76
    - path: output/fm_model
      hash: md5
      md5: 1c516af47c166e5b4aae8d810448c8f5.dir
      size: 3782868
      nfiles: 4
    - path: output/train_logs.csv
      hash: md5
      md5: 551a942428413e8b95efe5e194f34b80
      size: 139
  evaluate:
    cmd: python src/evaluate.py
    deps:
    - path: data/fashion_mnist_data.pkl
      hash: md5
      md5: 35353c71da0985eed8bb507bbc53bd91
      size: 54950285
    - path: output/fm_model
      hash: md5
      md5: 1c516af47c166e5b4aae8d810448c8f5.dir
      size: 3782868
      nfiles: 4
    - path: src/evaluate.py
      hash: md5
      md5: cca081b957cf8396d8b1526d7734952c
      size: 3040
    outs:
    - path: output/metrics.json
      hash: md5
      md5: 440ae7742fcf48d0978c75e1969a67bc
      size: 61
    - path: output/predictions.json
      hash: md5
      md5: c1e554c95086a4c9d4d2470fbd3af774
      size: 310000
    - path: output/test/samples_of_mispredicted_images/
      hash: md5
      md5: 0f697c0c894e4cf49fc2501080e18fa0.dir
      size: 171082
      nfiles: 10
